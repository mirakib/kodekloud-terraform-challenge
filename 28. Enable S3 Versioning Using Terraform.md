# Enable S3 Versioning Using Terraform

Data protection and recovery are fundamental aspects of data management. It's essential to have systems in place to ensure that data can be recovered in case of accidental deletion or corruption. The DevOps team has received a requirement for implementing such measures for one of the S3 buckets they are managing.

The S3 bucket name is `devops-s3-11631`, enable versioning for this bucket using `Terraform`.

The Terraform working directory is `/home/bob/terraform`. Create the `main.tf` file (do not create a different `.tf` file) to accomplish this task.

**`/home/bob/terraform/main.tf`** 

**Existing configuration:**

```HCL
resource "aws_s3_bucket" "s3_ran_bucket" {
  bucket = "devops-s3-11631"
  acl    = "private"

  tags = {
    Name        = "devops-s3-11631"
  }
}
```

**Updated configuration:**

```HCL
resource "aws_s3_bucket" "s3_ran_bucket" {
  bucket = "devops-s3-11631"
  acl    = "private"

  # Add versioning to the bucket
  versioning {
    enabled = true
  }

  tags = {
    Name        = "devops-s3-11631"
  }
}
```

## How to apply

```bash
terraform plan
terraform apply -auto-approve
```
