# Copy Data to S3 Using Terraform

The Nautilus DevOps team is presently immersed in data migrations, transferring data from on-premise storage systems to AWS S3 buckets. They have recently received some data that they intend to copy to one of the S3 buckets.

S3 bucket named `devops-cp-21645` already exists. Copy the file `/tmp/devops.txt` to s3 bucket `devops-cp-21645` using `Terraform`. 

The Terraform working directory is `/home/bob/terraform`. Create the `main.tf` file (do not create a different `.tf` file) to accomplish this task.

**`/home/bob/terraform/main.tf`** 

**Existing configuration:**

```HCL
resource "aws_s3_bucket" "my_bucket" {
  bucket = "devops-cp-21645"
  acl    = "private"

  tags = {
    Name        = "devops-cp-21645"
  }
}
```

**Updated configuration:**

```HCL
resource "aws_s3_bucket" "my_bucket" {
  bucket = "devops-cp-21645"
  acl    = "private"

  tags = {
    Name        = "devops-cp-21645"
  }
}

resource "aws_s3_object" "upload_devops_txt" {
  bucket = aws_s3_bucket.my_bucket.id
  key    = "devops.txt"          
  source = "/tmp/devops.txt"     
  etag   = filemd5("/tmp/devops.txt") 
}
```


## How to apply

```bash
terraform init
terraform plan
terraform apply -auto-approve
```
