# Attach Elastic IP Using Terraform

There is an instance named `datacenter-ec2` and an `elastic-ip` named `datacenter-ec2-eip` in `us-east-1` region. Attach the `datacenter-ec2-eip` `elastic-ip` to the `datacenter-ec2` instance using `Terraform` only. 

The Terraform working directory is `/home/bob/terraform`. Create the `main.tf` file (do not create a different `.tf` file) to accomplish this task.

**`/home/bob/terraform/main.tf`** 


**Existing configuration:**

```HCL
# Provision EC2 instance
resource "aws_instance" "ec2" {
  ami           = "ami-0c101f26f147fa7fd"
  instance_type = "t2.micro"
  subnet_id     = "subnet-3d311fad5728979e7"
  vpc_security_group_ids = [
    "sg-c18d3cc01368e52bf"
  ]

  tags = {
    Name = "datacenter-ec2"
  }
}

# Provision Elastic IP
resource "aws_eip" "ec2_eip" {
  tags = {
    Name = "datacenter-ec2-eip"
  }
}
```

**Updated configuration:**

```HCL
# Provision EC2 instance
resource "aws_instance" "ec2" {
  ami           = "ami-0c101f26f147fa7fd"
  instance_type = "t2.micro"
  subnet_id     = "subnet-3d311fad5728979e7"
  vpc_security_group_ids = [
    "sg-c18d3cc01368e52bf"
  ]

  tags = {
    Name = "datacenter-ec2"
  }
}

# Provision Elastic IP
resource "aws_eip" "ec2_eip" {
  tags = {
    Name = "datacenter-ec2-eip"
  }
}

# Associate Elastic IP with EC2 instance
resource "aws_eip_association" "ec2_eip_assoc" {
  instance_id   = aws_instance.ec2.id
  allocation_id = aws_eip.ec2_eip.id
}

```

## How to apply

```bash
terraform init
terraform apply -auto-approve
```
