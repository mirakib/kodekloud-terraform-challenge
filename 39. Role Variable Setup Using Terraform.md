# Role Variable Setup Using Terraform

The Nautilus DevOps team is automating IAM role creation using Terraform to streamline permissions management. As part of this task, they need to create an IAM role with specific requirements.

For this task, create an AWS IAM role using Terraform with the following requirements:

- The IAM role name `iamrole_siva` should be stored in a variable named `KKE_iamrole`.

Note:

- The configuration values should be stored in a `variables.tf` file.

- The Terraform script should be structured with a `main.tf` file referencing `variables.tf`.

The Terraform working directory is `/home/bob/terraform`.

**`/home/bob/terraform/variables.tf`** 

```HCL
variable "KKE_iamrole" {
  type    = string
  default = "iamrole_siva"
}
```

**`/home/bob/terraform/main.tf`** 

```HCL
resource "aws_iam_role" "role" {
  name = var.KKE_iamrole

  assume_role_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Action = "sts:AssumeRole"
        Effect = "Allow"
        Sid    = ""
        Principal = {
          Service = "ec2.amazonaws.com"
        }
      },
    ]
  })

  tags = {
    Name = var.KKE_iamrole
  }
}
```

## How to apply

```bash
terraform init
terraform plan
terraform apply -auto-approve
```
