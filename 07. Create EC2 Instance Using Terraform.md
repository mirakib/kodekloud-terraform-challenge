# Create EC2 Instance Using Terraform

For this task, create an EC2 instance using Terraform with the following requirements:

- The `EC2 instance` must use the value `datacenter-ec2` as its Name `tag`, which defines the instance name in AWS.
- Use the `Amazon Linux` `ami-0c101f26f147fa7fd` to launch this instance.
- The Instance type must be `t2.micro`.
- Create a new RSA key named `datacenter-kp`.
- Attach the default (available by default) security group.
    
The Terraform working directory is `/home/bob/terraform`. Create the `main.tf` file (do not create a different .tf file) to accomplish this task. 

**`/home/bob/terraform/main.tf`** 

```HCL
# Get the default VPC
data "aws_vpc" "default" {
  default = true
}

# Get the default security group from the default VPC
data "aws_security_group" "default" {
  name   = "default"
  vpc_id = data.aws_vpc.default.id
}

# Create RSA key pair
resource "aws_key_pair" "datacenter_kp" {
  key_name   = "datacenter-kp"
  public_key = file("~/.ssh/id_rsa.pub")
}

# Create the EC2 instance
resource "aws_instance" "datacenter_ec2" {
  ami           = "ami-0c101f26f147fa7fd"
  instance_type = "t2.micro"
  key_name      = aws_key_pair.datacenter_kp.key_name

  vpc_security_group_ids = [
    data.aws_security_group.default.id
  ]

  tags = {
    Name = "datacenter-ec2"
  }
}
```
Create RSA public key first: `ssh-keygen -t rsa -f ~/.ssh/id_rsa -N ""` If you do NOT already have `~/.ssh/id_rsa.pub`

## How to apply

```bash
terraform init
terraform plan
terraform apply
```
