# Create VPC and Subnet Using Terraform

To ensure proper resource provisioning order, the DevOps team wants to explicitly define the dependency between an AWS VPC and a Subnet. The objective is to create a VPC and then a Subnet that explicitly depends on it using Terraform's depends_on argument.

Please complete the following tasks:
1. Create a VPC named `xfusion-vpc`.
2. Create a Subnet named `xfusion-subnet`.
3. Ensure the Subnet uses the depends_on argument to explicitly depend on the VPC resource.

4. Create the `main.tf` file (do not create a separate `.tf` file) to provision a VPC and Subnet.

5. Use `variables.tf`, define the following variables:
   - `KKE_VPC_NAME` for the VPC name.
   - `KKE_SUBNET_NAME` for the Subnet name.

6. Use `terraform.tfvars` to input the names of the VPC and subnet.

7. In `outputs.tf`, output the following:
   - `kke_vpc_name`: The name of the VPC.
   - `kke_subnet_name`: The name of the Subnet.

**`/home/bob/terraform/main.tf`**

```hcl
resource "aws_vpc" "xfusion_vpc" {
  cidr_block = "10.0.0.0/16"

  tags = {
    Name = var.KKE_VPC_NAME
  }
}

resource "aws_subnet" "xfusion_subnet" {
  vpc_id     = aws_vpc.xfusion_vpc.id
  cidr_block = "10.0.1.0/24"

  depends_on = [
    aws_vpc.xfusion_vpc
  ]

  tags = {
    Name = var.KKE_SUBNET_NAME
  }
}
```

**`/home/bob/terraform/variables.tf`**

```hcl
variable "KKE_VPC_NAME" {
  type = string
}

variable "KKE_SUBNET_NAME" {
  type = string
}
```

**`/home/bob/terraform/terraform.tfvars`**

```hcl
KKE_VPC_NAME     = "xfusion-vpc"
KKE_SUBNET_NAME = "xfusion-subnet"
```


**`/home/bob/terraform/outputs.tf`**

```hcl
output "kke_vpc_name" {
  value = aws_vpc.xfusion_vpc.tags["Name"]
}

output "kke_subnet_name" {
  value = aws_subnet.xfusion_subnet.tags["Name"]
}
```

## How to apply

```bash
terraform init
terraform apply -auto-approve
```
