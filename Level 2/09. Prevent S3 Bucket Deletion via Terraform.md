# Prevent S3 Bucket Deletion via Terraform

To ensure secure and `accidental-deletion-proof` storage, the DevOps team must configure an S3 bucket using Terraform with strict lifecycle protections. The goal is to create a bucket that is dynamically named and protected from being destroyed by mistake. Please complete the following tasks:

1. Create an S3 bucket named `nautilus-s3-8838`.

2. Apply the `prevent_destroy` lifecycle rule to protect the bucket.

3. Create the `main.tf` file (do not create a separate `.tf` file) to provision a s3 bucket with `prevent_destroy` lifecycle rule.

4. Use the `variables.tf` file with the following:
   - `KKE_BUCKET_NAME`: name of the bucket.

5. Use the `terraform.tfvars` file to input the name of the bucket.

6. Use the outputs.tffile with the following:
   - `s3_bucket_name`: name of the created bucket.

**`/home/bob/terraform/main.tf`**

```hcl
resource "aws_s3_bucket" "kke_bucket" {
  bucket = var.KKE_BUCKET_NAME

  lifecycle {
    prevent_destroy = true
  }
}
```

**`/home/bob/terraform/variables.tf`**

```hcl
variable "KKE_BUCKET_NAME" {
  description = "Name of the S3 bucket"
  type        = string
}
```

**`/home/bob/terraform/terraform.tfvars`**

```hcl
KKE_BUCKET_NAME = "nautilus-s3-8838"
```

**`/home/bob/terraform/outputs.tf`**

```hcl
output "s3_bucket_name" {
  description = "Name of the created S3 bucket"
  value       = aws_s3_bucket.kke_bucket.bucket
}
```

## How to apply

```bash
terraform init
terraform apply -auto-approve
terraform plan
```
