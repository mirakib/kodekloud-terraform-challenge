# Replace Existing EC2 Instance via Terraform

To test resilience and recreation behavior in `Terraform`, the DevOps team needs to demonstrate the use of the `-replace` option to forcefully recreate an EC2 instance without changing its configuration. Please complete the following tasks:

1. Use the Terraform CLI `-replace` option to destroy and recreate the EC2 instance `datacenter-ec2`, even though the configuration remains unchanged.

2. Ensure that the instance is recreated successfully.


> [!Note]
> The new instance created using the `-replace` option should have a different instance ID than the previously provisioned instance.

**`/home/bob/terraform/main.tf`**

```sh
resource "aws_instance" "web_server" {
  ami           = var.ami_id
  instance_type = var.instance_type

  tags = {
    Name = var.instance_name
  }
}
```

## Step 1: Force recreation using `-replace`

```sh
terraform apply -replace="aws_instance.web_server"
```

## Step 2: Final validation

```sh
terraform plan
```

**Expected output:**

`No changes. Your infrastructure matches the configuration.`
