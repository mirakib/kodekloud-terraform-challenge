# Provision IAM User with Terraform

The Nautilus DevOps team is experimenting with Terraform provisioners. Your task is to create an IAM user and use a `local-exec` provisioner to log a confirmation message.

1. Create an IAM user named `iamuser_ravi`.

2. Use a `local-exec` provisioner with the IAM user resource to log the message `KKE iamuser_ravi has been created successfully!` to a file called `KKE_user_created.log` under `home/bob/terraform`.

3. Create the `main.tf` file (do not create a separate `.tf` file) to provision an IAM user.

4. Use variables.tf file with the following:
   - `KKE_USER_NAME`: name of the IAM user.
5. Use `terraform.tfvars` to input the name of the IAM user.

6. Use `outputs.tf` file with the following:
   - `kke_iam_user_name`: name of the IAM user.



**`/home/bob/terraform/main.tf`**

```hcl
resource "aws_iam_user" "kke_user" {
  name = var.KKE_USER_NAME

  provisioner "local-exec" {
    command = "echo KKE ${var.KKE_USER_NAME} has been created successfully! >> /home/bob/terraform/KKE_user_created.log"
  }
}
```

**`/home/bob/terraform/variables.tf`**

```hcl
variable "KKE_USER_NAME" {
  description = "Name of the IAM user"
  type        = string
}
```

**`/home/bob/terraform/outputs.tf`**

```hcl
output "kke_iam_user_name" {
  description = "Name of the IAM user"
  value       = aws_iam_user.kke_user.name
}
```

**`/home/bob/terraform/terraform.tfvars`**

```hcl
KKE_USER_NAME = "iamuser_ravi"
```

## How to apply

```bash
terraform init
terraform apply -auto-approve
terraform plan
```
